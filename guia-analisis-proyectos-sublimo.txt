3. Componentes y pÃ¡ginas - ANÃLISIS SUBLIMO APP

Ver cÃ³mo estÃ¡n organizados los componentes, vistas o rutas:

ğŸ“± PANTALLAS PRINCIPALES:
- **PÃ¡gina principal** (`/`) - Landing page de Sublimo & Burgon
- **Panel administrativo** (`/panel`) - Dashboard con layout propio que incluye:
  - `/panel/estampas` - GestiÃ³n de estampas
  - `/panel/inventario` - Control de inventario
  - `/panel/pedidos` - AdministraciÃ³n de pedidos
  - `/panel/usuarios` - GestiÃ³n de usuarios
- **Generador** (`/generador`) - Herramienta de diseÃ±o de productos
- **Login** (`/login`) - AutenticaciÃ³n de usuarios
- **Burgon** (`/burgon`) - PÃ¡gina especÃ­fica de Burgon

ğŸ”§ COMPONENTES REPETITIVOS:
- **ClientLayout** - Layout principal que envuelve toda la aplicaciÃ³n
- **Navbar** - NavegaciÃ³n comÃºn (HeroSection.tsx)
- **Canvas2D** - Editor de diseÃ±o 2D con Fabric.js para posicionar imÃ¡genes
- **Canvas3D** - VisualizaciÃ³n 3D con Three.js/React Three Fiber
- **RemeraPreview** - PrevisualizaciÃ³n de remeras
- **UserList** - Lista de usuarios en administraciÃ³n

ğŸ§­ NAVEGACIÃ“N:
- **Router de Next.js App Router** - Sistema de rutas basado en archivos
- **Layouts anidados** - El panel tiene su propio layout que protege rutas internas
- **Context de autenticaciÃ³n** - Controla el acceso segÃºn roles de usuario

Esto permite derivar los requerimientos funcionales de interfaz (lo que el usuario puede hacer y ver).

ğŸ”’ 4. Contextos, hooks y estados - ANÃLISIS SUBLIMO APP

Revisar:

ğŸ“‹ CONTEXTOS GLOBALES:
- **AuthContext** - Maneja autenticaciÃ³n de usuarios con Supabase
  - Estados: user, role, isAuthReady
  - Funciones: fetchUserRole, manejo de sesiÃ³n
  - Roles: administrador, usuario, etc.
- **OrderContext** - GestiÃ³n de pedidos y Ã³rdenes

ğŸ£ HOOKS PERSONALIZADOS:
- **useAuth** - Hook para acceder al contexto de autenticaciÃ³n
- **useFabricJSEditor** - Hook de fabricjs-react para manejo del canvas 2D

ğŸ—‚ï¸ MANEJO DE ESTADO GLOBAL:
- **Context API de React** - Para autenticaciÃ³n y pedidos
- **Supabase** - Base de datos en tiempo real y autenticaciÃ³n
- **Estado local** - useState/useEffect para componentes especÃ­ficos

Esto revela quÃ© roles hay (admin, usuario), quÃ© permisos existen (acceso a panel, gestiÃ³n de usuarios), quÃ© flujo de datos hay y quÃ© funciones internas maneja el sistema (autenticaciÃ³n, gestiÃ³n de sesiones).

ğŸ§  5. Servicios y lÃ³gica de negocio - ANÃLISIS SUBLIMO APP

ğŸ“ CARPETA /SERVICES:
- **usuarios.ts** - GestiÃ³n completa de usuarios
  - getUsuarios() - Listar usuarios
  - crearUsuario() - Crear con auth y rol
  - actualizarRol() - Modificar permisos
  - eliminarUsuario() - Borrar completamente
- **estampas.ts** - Manejo de diseÃ±os/estampas
- **inventario.ts** - Control de stock y productos
- **storage.ts** - Manejo de archivos

ğŸ”Œ CONSUMO DE BACKEND:
- **Supabase** - Base de datos PostgreSQL en la nube
- **AutenticaciÃ³n integrada** - Admin API para gestiÃ³n de usuarios
- **Storage** - Para archivos e imÃ¡genes
- **Real-time subscriptions** - Para updates en tiempo real

ğŸ› ï¸ FUNCIONES AUXILIARES:
- **combineFiles.js** - CombinaciÃ³n de archivos (probablemente para diseÃ±os)
- **LÃ³gica de diseÃ±o** - Procesamiento de imÃ¡genes y texturas

Esto revela acciones disponibles como: gestiÃ³n de usuarios, control de inventario, manejo de estampas, autenticaciÃ³n, subida de archivos.

ğŸ—‚ï¸ 6. Modelos o base de datos - ANÃLISIS SUBLIMO APP

ğŸ“Š ENTIDADES PRINCIPA LES:
- **usuarios** - InformaciÃ³n de usuarios, roles, fechas de creaciÃ³n
- **estampas** - DiseÃ±os, imÃ¡genes, metadatos
- **inventario** - Productos, stock, precios
- **pedidos** - Ã“rdenes, estados, informaciÃ³n de cliente

ğŸ”— RELACIONES:
- **usuarios** â†’ pueden tener mÃºltiples **pedidos**
- **estampas** â†’ se usan en **pedidos**
- **inventario** â†’ se relaciona con **pedidos** (productos comprados)
- **usuarios** â†’ tienen **rol** que determina permisos

ğŸ’¾ MANEJO DE DATOS:
- **Supabase** - PostgreSQL con Row Level Security
- **Tablas principales**: usuarios, estampas, inventario, pedidos
- **Campos clave**: id, email, rol, creado_en, relaciones

Esto define los requerimientos de datos: informaciÃ³n de usuarios con roles, catÃ¡logo de estampas, control de inventario, historial de pedidos.

ğŸ§¾ 7. Archivos estÃ¡ticos o de recursos - ANÃLISIS SUBLIMO APP

ğŸ“‚ CARPETA /ASSETS:
- **images/** - ImÃ¡genes de productos y diseÃ±os:
  - camiseta.png, remera.png, remerablack.png
  - remeracolor.png, remerahighlight.png
  - ice-pop.png, dead-cool.png
- **models/** - Recursos 3D y texturas:
  - tshirt.glb - Modelo 3D de remera
  - tshirt.jpg - Textura base
  - placementguide.jpg - GuÃ­a de posicionamiento
  - NormalFabric.png - Textura de tela normal

ğŸ¨ MODELOS 3D:
- **tshirt.glb** - Modelo principal de remera
- **Archivos .bin/.gltf** - Modelos adicionales
- **Texturas** - Para diferentes materiales y apariencias

ğŸ“ FLUJO DE ARCHIVOS:
- **Subida** - Usuarios suben diseÃ±os a travÃ©s de Canvas2D
- **Procesamiento** - Se combinan con modelos 3D
- **VisualizaciÃ³n** - Preview en tiempo real
- **ExportaciÃ³n** - Alta resoluciÃ³n para producciÃ³n

El sistema maneja principalmente imÃ¡genes 2D (diseÃ±os) y modelos 3D (remeras) con su flujo de subida, posicionamiento y visualizaciÃ³n.

ğŸ”„ 8. Funcionalidades especÃ­ficas o lÃ³gicas personalizadas - ANÃLISIS SUBLIMO APP

ğŸ¨ COMPONENTES CLAVE:
- **Canvas3D** - VisualizaciÃ³n 3D con @react-three/fiber
  - Renderizado de modelos GLTF/GLB
  - AplicaciÃ³n de texturas personalizadas
  - InteracciÃ³n con el modelo (rotaciÃ³n, zoom)
- **Canvas2D** - Editor de diseÃ±o con Fabric.js
  - Subida y posicionamiento de imÃ¡genes
  - Controles personalizados (botÃ³n eliminar)
  - ExportaciÃ³n en alta resoluciÃ³n (3072px)
- **RemeraPreview** - PrevisualizaciÃ³n del producto final

âš¡ INTERACCIONES ESPECÃFICAS:
- **Subida de archivos** - ImÃ¡genes se cargan al canvas 2D
- **Posicionamiento preciso** - GuÃ­a visual para colocar diseÃ±os
- **Preview 3D** - VisualizaciÃ³n realista del producto
- **AutenticaciÃ³n** - Login con roles y permisos
- **Panel administrativo** - CRUD de usuarios, productos, pedidos

ğŸ¯ CASOS DE USO CONCRETOS:
- **Cliente**: DiseÃ±ar remera â†’ subir imagen â†’ posicionar â†’ ver preview 3D â†’ realizar pedido
- **Administrador**: Gestionar usuarios â†’ controlar inventario â†’ administrar pedidos â†’ gestionar estampas

ğŸ“‘ 9. CÃ³digo comentado o TODOs - ANÃLISIS SUBLIMO APP

ğŸ“ COMENTARIOS ENCONTRADOS:
- En Canvas2D: "// TODO: agregar validaciÃ³n de stock"
- Comentarios explicativos en servicios
- Comentarios de secciones en componentes

ğŸ” PENDIENTES IDENTIFICADOS:
- ValidaciÃ³n de stock antes de confirmar pedidos
- ConexiÃ³n con APIs externas
- OptimizaciÃ³n de rendimiento en canvas 3D
- ValidaciÃ³n de archivos subidos

ğŸ§© 10. Dependencias y librerÃ­as usadas - ANÃLISIS SUBLIMO APP

ğŸ“¦ LIBRERÃAS PRINCIPALES:

ğŸ¨ **3D y GrÃ¡ficos**:
- **@react-three/fiber** (^8.13.7) - React renderer para Three.js
- **@react-three/drei** (^9.89.2) - Utilidades para React Three Fiber
- **three** (^0.179.1) - Motor 3D para visualizaciÃ³n de modelos

ğŸ–¼ï¸ **Canvas 2D**:
- **fabric** (^5.3.0) - LibrerÃ­a para manipulaciÃ³n de canvas 2D
- **fabricjs-react** (^1.2.2) - React wrapper para Fabric.js

ğŸ” **Backend y Auth**:
- **@supabase/supabase-js** (^2.55.0) - Base de datos y autenticaciÃ³n
- **@supabase/ssr** (^0.7.0) - Server Side Rendering support

âš›ï¸ **Framework**:
- **next** (14.2.32) - Framework React full-stack
- **react** (^18) - LibrerÃ­a UI
- **react-dom** (^18) - DOM renderer

ğŸ¨ **Estilos**:
- **tailwindcss** (^3.4.1) - Framework CSS utility-first
- **postcss** (^8) - Procesador CSS

ğŸ“ **Tipado**:
- **typescript** (^5) - Superset de JavaScript tipado
- **@types/*** - Definiciones de tipos para librerÃ­as

ğŸ” FUNCIONALIDADES IMPLÃCITAS:
- **3D**: VisualizaciÃ³n de productos en 3D, modelos GLTF/GLB
- **Canvas**: Editor grÃ¡fico 2D para diseÃ±o de estampas
- **API**: ConexiÃ³n con base de datos en tiempo real
- **Routing**: Sistema de navegaciÃ³n con App Router
- **SSR**: Renderizado del lado servidor
- **Auth**: Sistema de autenticaciÃ³n y autorizaciÃ³n
